StimulateOpenGL II Plugin Parameter Documentation
Calin A. Culianu <calin.culianu@gmail.com>
Last Updated: February 18, 2009

Below is a list of plugins and the configuration parameters that they
accept.  Note parameters *are not* case sensitive.

If a parameter is missing or unspecified, it takes on the default value
listed for that parameter.  Some parameters lack default values and
therefore must be specified in the configuration file and/or
configuration parameter struct given in matlab.  However, the majority of
parameters below do have (sensible) defaults.

-----------------------------------------------------------------------------
Global PLUGN PARAMETERS
-----------------------------------------------------------------------------
mon_x_pix
        Synopsis:         Specifies the width in pixels of the GL window
        Datatype:         integer
        Possible values:  1 - +2147483647
        Default value:    800

mon_y_pix
        Synopsis:         Specifies the height in pixels of the GL window
        Datatype:         integer
        Possible values:  1 - +2147483647
        Default value:    600
        
color_order
        Synopsis:         Specifies the order of the colorwheel for 'triple' fps 
                          mode.
        Datatype:         string
        Possible values:  'brg' 'bgr' 'rgb' 'rbg' 'grb' 'gbr'
        Default value:    'rgb'

frame_vars
        Synopsis:         Specifies a filename for reading in per-frame variables.
                          If this variable is set, the experiment plugin runs in
                          'frame var' mode, if supported.
                          In frame var mode, the experiment plugin reads values
                          from the frame_vars data file as input when preparing 
                          each frame, on a frame-by-frame basis.  
                          Currently only the 'MovingObjects' and 'MovingGrating'
                          plugins support this feature.
        Datatype:         string
        Possible values:  Empty string (to specify no frame_vars), or a filename
        Default value:    (Empty)
	                  
fps_mode
        Synopsis:         Specify the 'fps_mode' to run the experiment.
        Datatype:         string
        Possible values:  'single' for normal, single-fps, 120Hz mode
                          'dual' for double-fps mode 240Hz mode
                          'triple' for triple-fps 360Hz mode.
                          Note anything other than 'single' only will actually 
                          raise the effective fps when using the projector as
                          output.
        Default value:    'single'
	            
bgcolor
        Synopis:          Specify the background (clear) color of the experiment.
        Datatype:         float
        Possible values:  0.0 - 1.0
        Default value:    0.5
	
ftrackbox_x
        Synopsis:         Specifies the x-coordinate of the bottom-left
                          corner of the frame track square (photodiode square).
        Datatype:         integer
        Possible values:  -2147483648 - +2147483647
        Default value:    0

ftrackbox_y
        Synopsis:         Specifies the y-coordinate of the bottom-left
                          corner of the frame track square (photodiode square).
        Datatype:         integer
        Possible values:  -2147483648 - +2147483647
        Default value:    10

ftrackbox_w
        Synopsis:         Specifies the width of a side of the frame track 
		                  square (photodiode square).
        Datatype:         integer
        Possible values:  0 - +2147483647
        Default value:    45
	
	

------------------------------------------------------------------------------
`MovingObjects' PLUGIN PARAMETERS
------------------------------------------------------------------------------

objType
        Synopsis:         Specifies the shape of the moving target.
        Datatype:         string
        Possible values: 
               box      - Indicates you want the target to be a square whose 
                          sizes are of objLen length (in pixels, see the objLen
                          parameter).
               circle   - Indicates you want the target to be a circle
                          of objLen radius (in pixels, see the objLen param.).
                          The circle is approximated using 128 vertices.
        Default value:    box

objLen
        Synopsis:         Specifies the size of the moving target
        Datatype:         integer
        Possible values:  0 - +2147483647
        Default value:    8

objVelx
        Synopsis:         Specifies the x-component of the velocity vector
                          of the target.  The velocity is in units of: pixels
                          per frame.
        Datatype:         integer
        Possible values:  -2147483648 - +2147483647
        Default value:    4

objVely
        Synopsis:         Specifies the y-component of the velocity vector
                          of the target.  The velocity is in units of: pixels
                          per frame.
        Datatype:         integer
        Possible values:  -infinity - +infinity
        Default value:    4

objXinit
        Synopsis:         Specifies the x-coordinate of the target's 
                          initial position.
        Datatype:         integer
        Possible values:  -2147483648 - +2147483647
        Default value:    400

objYinit
        Synopsis:         Specifies the y-coordinate of the target's 
                          initial position.
        Datatype:         integer
        Possible values:  -2147483648 - +2147483647
        Default value:    300

targetcycle
        Synopsis:         This parameter is used in conjunction with `tframes'.
                          Specifies whether to double the size of the target
                          every 'tframe' frames, and if so, this doubling will
                          occur at most 'targetcycle' times before being reset 
                          to initial conditions (at which point the target 
                          doubling countdown starts anew).
        Datatype:         integer
        Possible values:  0 - +2147483647
        Default value:    0

speedcycle
        Synopsis:         This parameter is used in conjunction with `tframes'.
                          Specifies whether to double the magnitude of the
                          target's velocity every 'tframe' frames, and if so, 
                          this doubling will occur at most 'speedcycle'
                          times before being reset to initial conditions 
                          (at which point the speed doubling countdown starts
                          anew).
        Datatype:         integer
        Possible values:  0 - +2147483647
        Default value:    0

objcolor
        Synopsis:         Specifies the grayscale intensity of the target.
        Datatype:         float
        Possible values:  0.0 - 1.0 (black to white)
        Default value:    0.0 (black)

bgcolor
        Synopsis:         Specifies the grayscale intensity of the background.
        Datatype:         float
        Possible values:  0.0 - 1.0 (black to white)
        Default value:    1.0 (white)

mon_x_pix
        Synopsis:         Specifies the limit on the x-axis for the target to
                          move in.  When the target's x-coordinate  crosses 
                          mon_x_pix, it hits a virtual 'wall' and bounces.   
                          Can be used to constrain the target to an area 
                          smaller or larger than the actual visible window.
        Datatype:         integer
        Possible values:  0 - +2147483647
        Default value:    The width of the opengl window (usually 800).

mon_y_pix
        Synopsis:         Specifies the limit on the y-axis for the target to
                          move in.  When the target's y-coordinate  crosses 
                          mon_y_pix, it hits a virtual 'wall' and bounces.   
                          Can be used to constrain the target to an area 
                          smaller or larger than the actual visible window.
        Datatype:         integer
        Possible values:  0 - +2147483647
        Default value:    The width of the opengl window (usually 800).

rndtrial
        Synopsis:         This parameter is used in conjunction with `tframes'.
                          Boolean flag specifying whether or not to randomly
                          generate a new position and velocity for the target
                          every `tframes' frames.  If true, then the target's
                          position will be reset to a random value and the 
                          target's velocity will also be a random function of 
                          its specified velocity after `tframes' frames.
                          If false, the target's position will be reset
                          to its initial position after `tframes' frames
                          expires.
                          (see the tframes parameter)
        Datatype:         boolean
        Possible values:  0, 1
        Default value:    0

rseed
        Synopsis:         Specifies the seed to use for the pseudo-random 
                          number generator.  The sequence of random numbers
                          generated is always the same for a particular seed.
        Datatype:         integer
        Possible values:  -2147483648 - +2147483647
        Default value:    -1

tframes
        Synopsis:         Specifies the number of frames until the target's
                          position, size, and velocity are up for being re-set
                          or randomly perturbed. Every tframes frames, the 
                          target's position, speed and size may get set to new
                          and/or random values depending on other parameters
                          such as `targetcycle', `speedcycle', and `rndtrial'.
        Datatype:         integer
        Possible values:  0 - +2147483647
        Default value:    4320000 (approx 10 hours at 120fps)

delay
        Synopsis:         Specifies the number of frames to delay drawing
                          the target.  If the delay is active, the target
                          is invisible and not moving until delay frames
                          have elapsed.
        Datatype:         integer
        Posible values:   0 - +2147483647
        Default value:    0 (no delay)

jitterlocal
        Synopsis:         Specifies whether to enable or disable local
                          target jitter.  If enabled, then each frame, after
                          the target's position is adjusted based on its
                          velocity vector, an additional computation
                          is performed to perturb the target's position
                          randomly by at most `jittermag' pixels in either
                          axis direction. (This feature is meant to emulate 
                          the jittery flightpath of a fly).
       Datatype:          boolean
       Possible values:   0, 1
       Default value:     0

jittermag
       Synopsis:          If `jitterlocal' is true, then `jittermag' magnitude
                          jitter is applied to the target for each frame. 
                          Jitter is applied as follows: 
                          After the target's position is adjusted based on its
                          velocity vector, an additional computation is 
                          performed to perturb the target's position randomly
                          by at most `jittermag' pixels in either axis 
                          direction. (This feature is meant to emulate the 
                          jittery flightpath of a fly).
       Datatype:          integer
       Possible values:   -2147483648 - +2147483647
       Default value:     2

------------------------------------------------------------------------------
`MovingGrating' PLUGIN PARAMETERS
------------------------------------------------------------------------------

period
       Synopsis:         Specifies the width of the moving grayscale bars, 
                         in pixels. Values below 3 seem to not generate any 
                         visible frames.
       Datatype:         integer
       Possible values:  0 - +2147483647
       Default value:    NONE (must be specified)

speed
       Synopsis:         Specifies the number of pixels per frame that the
                         grayscale bars move.
       Datatype:         integer
       Possible values:  0 - +2147483647
       Default value:    NONE (must be specified)

angle
       Synopsis:         Specifies the angle in degrees that the grayscale 
                         bars should be rotated before drawn.  Rotation is
                         counter-clockwise.  
                         0 is perfectly vertical, 90 is perfectly horizontal,
                         etc.                        
       Datatype:         float
       Possible values:  0.0 - 359.9
       Default value:    NONE (must be specified)



------------------------------------------------------------------------------
`CheckerFlicker' PLUGIN PARAMETERS
------------------------------------------------------------------------------
                          
stixelwidth
       Synopsis:         Specifies the width of the checker squares in pixels.
       Datatype:         integer
       Possible values:  0 - +2147483647
       Default value:    10
        
stixelheight
       Synopsis:         Specifies the height of the checker squares in pixels
       Datatype:         integer
       Possible values:  0 - +2147483647
       Default value:    10
        
rand_gen
       Synopsis:         Specifies whether to use a gaussian, uniform, or
                         binary random number generatior when generating 
                         color/grayscale values for the checker squares.
       Datatype:         string
       Possible values:  'uniform', 'gauss', or 'binary' (for pure b&w)
       Default value:    uniform

contrast
       Synopsis:         If in rand_gen=gauss mode, specifies specifies the 
                         variance of the normally distributed intensity levels
                         generated.
       Datatype:         float
       Possible values:  0.0 - 1.0
       Default value:    iff blackwhite==true, 
                              1.0 
                         else 
                              0.3

rand_displacement_x
       Synopsis:         Specifies the amount (in pixels) by which to randomly 
                         displace the checkerboard in the X direction, per frame.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

rand_displacement_y
       Synopsis:         Specifies the amount (in pixels) by which to randomly 
                         displace the checkerboard in the Y direction, per frame.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0
                                                         
lmargin
       Synopsis:         Specifies the left margin of the checkerboard area
                         in pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

rmargin
       Synopsis:         Specifies the right margin of the checkerboard area
                         in pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

bmargin
       Synopsis:         Specifies the bottom margin of the checkerboard area
                         in pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

tmargin
       Synopsis:         Specifies the top margin of the checkerboard area
                         in pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

fbo 
*AKA*
prerender
       Synopsis:         Specifies the number of frames to prerender and
                         keep in the frame buffer (in VRAM).  Prerendering
                         allows for some leeway in missing realtime deadlines
                         when generating new checker frames on-the-fly.
       Datatype:         integer
       Possible values:  0 - +2147483647
       Default value:    30

cores
       Synopsis:         Specifies the maximum number of cores to use
                         for this plugin (mainthread + frame generation
                         threads each use a core).  It is not a good idea
                         to set this parameter to anything other than 2
                         because having >1 frame generation thread
                         means that the checkerboard frames are generated
                         in a non-deterministic order, and thus commands
                         that try to play-back the stimulation experiment
                         from initial conditions, such as the DumpFrame command
                         returns frames in non-repeatable order.  However,
                         using >2 cores sometimes is useful if you want to
                         generate 800x600 stixel checkerboards
                         in quad_fps mode in realtime and you find you are
                         getting frame underruns, and you don't care about. 
                         Stimulation experiment repeatability.
       Datatype:         integer
       Possible values:  0 - +2147483647
       Default value:    2

colortable
       Synopsis:         Specifies the size of the colortable to use.  This
                         parameter must be a power of 2.  The colortable is 
                         only really relevant to blackwhite=false mode where 
                         a gaussian distributed set of color intensities is 
                         needed for the checkers. Since generating gaussian 
                         distributed colors is potentially slow, a pregenerated
                         set of colors is used and a uniform random number is 
                         used to index into this set of gaussian colors.  
                         Colortable sizes of  2^24 start to be extremely 
                         accurate with respect to the guassian distribution, 
                         but they may be slow on some machines due to cache 
                         thrashing.  The default of 2^17 is fairly accurate
                         but not perfect.
       Datatype:         integer
       Possible values:  4096 - +1073741824 for the colortable size (must be 
                         a power of 2), 
                         *or* 
                         a number <=24 to specify a power of 2 for the 
                         colortable size
       Default value:    17 (which means the colortable size will be 2^17 or 
                         131072).

seed
        Synopsis:         Specifies the seed to use for the pseudo-random 
                          number generator.  The sequence of random numbers
                          generated is always the same for a particular seed.
        Datatype:         integer
        Possible values:  -2147483648 - +2147483647
        Default value:    10000

Nblinks
        Synopsis:         Specifies the number of frames to keep the same
                          checker pattern on the screen.  A value > 1 
                          essentially lowers the effective framerate since
                          new frames are drawn every Nblinks frames.
        Datatype:         integer
        Possible values:  1 - +2147483647
        Default value:    1

------------------------------------------------------------------------------
`Flicker' PLUGIN PARAMETERS
------------------------------------------------------------------------------
hz
        Synopsis:         Specifies the flicker rate in Hz.  Note that values 
                          above 120Hz are emulated using the projector 
                          sub-frame trick.
        Datatype:         integer
        Possible values:  180, 120, 90, 72, 60, 51, etc.  
                          (Bascially 1000/(k * (1000/120/3)) for all k >=2)
        Default value:    NONE (must be specified)

intensity
        Synopsis:         Specifies the gray level of the flicker 'on' state.
        Datatype:         float
        Possible values:  0.0 - 1.0
        Default value:    1.0

duty_cycle
        Synopsis:         Specifies number of subframes in the duty cycle per 
                          period.
        Datatype:         integer
        Possible values:  1 - +2147483647 (maximum value depends on hz param.)
        Default value:    1 for 180 Hz, 2 for 120Hz, 3 otherwise.
        
lmargin
       Synopsis:         Specifies the left margin of the checkerboard area
                         in pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

rmargin
       Synopsis:         Specifies the right margin of the flicker area in 
                         pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

bmargin
       Synopsis:         Specifies the bottom margin of the flicker area
                         in pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

tmargin
       Synopsis:         Specifies the top margin of the flicker area in 
                         pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

------------------------------------------------------------------------------
`Sawtooth' PLUGIN PARAMETERS
------------------------------------------------------------------------------
Nloops
        Synopsis:         The number of sawteeth cycles to generate.  
		                  -1 for infinite.
        Datatype:         integer
        Possible values:  -1 - +2147483647 (maximum value depends on hz param.)
        Default value:    -1 (loop forever)

Nblinks
        Synopsis:         Specifies the number of blinks or how many times to 
                          display each frame. 
        Datatype:         integer
        Possible values:  +1 - +2147483647
        Default value:    1

intensity_low
        Synopsis:         Specifies the gray level of the beginning state for 
                          the sawtooth.  This value along with intensity_high 
                          (plus NBlinks) determines the sawtooth's period.
        Datatype:         float
        Possible values:  0.0 - 1.0
        Default value:    0.0

intensity_high
        Synopsis:         Specifies the gray level of the end state for the
                          sawtooth.  This value along with intensity_low 
                          (plus NBlinks) determines the sawtooth's period.
        Datatype:         float
        Possible values:  0.0 - 1.0
        Default value:    1.0
        
lmargin
       Synopsis:         Specifies the left margin of the checkerboard area
                         in pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

rmargin
       Synopsis:         Specifies the right margin of the flicker area in 
                         pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

bmargin
       Synopsis:         Specifies the bottom margin of the flicker area
                         in pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0

tmargin
       Synopsis:         Specifies the top margin of the flicker area in 
                         pixels.
       Datatype:         integer
       Possible values:  -2147483648 - +2147483647
       Default value:    0
